import { Avatar, AvatarGroup } from "@heroui/avatar";
import * as React from "react";

export type OlympiadAchievement = {
  id: number;
  title: string;
  goldMedals?: number;
  silverMedals?: number;
  bronzeMedals?: number;
  topStudents: Array<{
    id: number;
    name: string;
    avatar?: string;
  }>;
}

type OlympiadAchievementCardProps = {
  data: OlympiadAchievement;
}

export const OlympiadAchievementCard: React.FC<OlympiadAchievementCardProps> = ({ data: achievement }) => {
  // انتخاب آیکون بر اساس id یا عنوان
  const getIcon = () => {
    switch (achievement.id) {
      case 1: // اقتصاد و مدیریت
        return (
          <svg fill="currentColor" viewBox="0 0 20 20" className="w-full h-full">
            <path fillRule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 0a1 1 0 100 2h.01a1 1 0 100-2H9zm2 0a1 1 0 100 2h.01a1 1 0 100-2H11z" clipRule="evenodd" />
          </svg>
        );
      case 2: // ریاضیات و فیزیک
        return (
          <svg fill="currentColor" viewBox="0 0 20 20" className="w-full h-full">
            <path fillRule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clipRule="evenodd" />
          </svg>
        );
      case 3: // شیمی و زیست‌شناسی
        return (
          <svg fill="currentColor" viewBox="0 0 20 20" className="w-full h-full">
            <path fillRule="evenodd" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" clipRule="evenodd" />
          </svg>
        );
      case 4: // علوم کامپیوتر
        return (
          <svg fill="currentColor" viewBox="0 0 20 20" className="w-full h-full">
            <path fillRule="evenodd" d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-3.22l.123.489.804.804A1 1 0 0111.78 18H8.22a1 1 0 01-.925-1.38l.804-.804L8.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z" clipRule="evenodd" />
          </svg>
        );
      default:
        return (
          <svg fill="currentColor" viewBox="0 0 20 20" className="w-full h-full">
            <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
          </svg>
        );
    }
  };

  return (
    <div className="relative overflow-hidden rounded-3xl p-6 hover:bg-primary border-2 border-primary transition-all duration-300 group select-none">


      {/* Header */}
      <div className="flex items-start justify-between mb-6">
        <div className="flex-1">
          <div className="flex items-center gap-2 mb-2">
            <span className="text-sm text-foreground opacity-70 group-hover:text-white font-medium">المپیاد</span>
          </div>
          <h3 className="text-base font-bold text-foreground group-hover:text-white leading-tight">
            {achievement.title}
          </h3>
        </div>
      </div>

      {/* Statistics */}
      <div className="flex items-center gap-2 mb-6">
        {!!achievement.bronzeMedals && (
            <div className="flex items-center gap-4 bg-white p-2 truncate rounded-tr-xl rounded-br-xl rounded-tl-md rounded-bl-md">
                <div className="flex items-center justify-center gap-1 fill-[#C2C2C2]">
                    <svg width="21" height="21" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.4" d="M15.2148 17.0941H14.3815V16.8857C14.3815 15.9691 13.6315 15.2191 12.7148 15.2191H10.8398V13.3107C10.6315 13.3357 10.4232 13.3441 10.2148 13.3441C10.0065 13.3441 9.79818 13.3357 9.58984 13.3107V15.2191H7.71484C6.79818 15.2191 6.04818 15.9691 6.04818 16.8857V17.0941H5.21484C4.87318 17.0941 4.58984 17.3774 4.58984 17.7191C4.58984 18.0607 4.87318 18.3441 5.21484 18.3441H15.2148C15.5565 18.3441 15.8398 18.0607 15.8398 17.7191C15.8398 17.3774 15.5565 17.0941 15.2148 17.0941Z" />
                        <path opacity="0.4" d="M4.81328 9.71076C4.26328 9.50243 3.77995 9.16076 3.39661 8.77743C2.62161 7.9191 2.11328 6.8941 2.11328 5.6941C2.11328 4.4941 3.05495 3.55243 4.25495 3.55243H4.72161C4.50495 3.9941 4.37995 4.48576 4.37995 5.01076V7.51076C4.37995 8.2941 4.52995 9.03576 4.81328 9.71076Z" />
                        <path opacity="0.4" d="M18.3133 5.6941C18.3133 6.8941 17.8049 7.9191 17.0299 8.77743C16.6466 9.16076 16.1633 9.50243 15.6133 9.71076C15.8966 9.03576 16.0466 8.2941 16.0466 7.51076V5.01076C16.0466 4.48576 15.9216 3.9941 15.7049 3.55243H16.1716C17.3716 3.55243 18.3133 4.4941 18.3133 5.6941Z" />
                        <path d="M12.7161 1.67743H7.71615C5.87448 1.67743 4.38281 3.1691 4.38281 5.01076V7.51076C4.38281 10.7358 6.99115 13.3441 10.2161 13.3441C13.4411 13.3441 16.0495 10.7358 16.0495 7.51076V5.01076C16.0495 3.1691 14.5578 1.67743 12.7161 1.67743ZM12.5828 7.05243L12.0661 7.68576C11.9828 7.77743 11.9245 7.96076 11.9328 8.08576L11.9828 8.90243C12.0161 9.40243 11.6578 9.66076 11.1911 9.47743L10.4328 9.17743C10.3161 9.13576 10.1161 9.13576 9.99948 9.17743L9.24115 9.47743C8.77448 9.66076 8.41615 9.40243 8.44948 8.90243L8.49948 8.08576C8.50781 7.96076 8.44948 7.77743 8.36615 7.68576L7.84948 7.05243C7.52448 6.6691 7.66615 6.2441 8.14948 6.1191L8.94115 5.9191C9.06615 5.88576 9.21615 5.7691 9.28281 5.66076L9.72448 4.97743C9.99948 4.55243 10.4328 4.55243 10.7078 4.97743L11.1495 5.66076C11.2161 5.7691 11.3661 5.88576 11.4911 5.9191L12.2828 6.1191C12.7661 6.2441 12.9078 6.6691 12.5828 7.05243Z" />
                        <path opacity="0.4" d="M12.5806 7.05238L12.064 7.68571C11.9806 7.77738 11.9223 7.96071 11.9306 8.08571L11.9806 8.90238C12.014 9.40238 11.6556 9.66071 11.189 9.47738L10.4306 9.17738C10.314 9.13571 10.114 9.13571 9.99731 9.17738L9.23898 9.47738C8.77232 9.66071 8.41398 9.40238 8.44732 8.90238L8.49731 8.08571C8.50565 7.96071 8.44731 7.77738 8.36398 7.68571L7.84731 7.05238C7.52231 6.66905 7.66398 6.24405 8.14732 6.11905L8.93898 5.91905C9.06398 5.88571 9.21398 5.76905 9.28065 5.66071L9.72232 4.97738C9.99731 4.55238 10.4306 4.55238 10.7056 4.97738L11.1473 5.66071C11.214 5.76905 11.364 5.88571 11.489 5.91905L12.2806 6.11905C12.764 6.24405 12.9056 6.66905 12.5806 7.05238Z" />
                    </svg>
                    <div className="text-xs text-gray-500">برنز</div>
                </div>
                <div className="text-center flex items-center gap-1 truncate">
                    <div className="text-sm font-bold text-gray-800">{achievement.bronzeMedals}</div>
                </div>
            </div>
        )}
        {!!achievement.silverMedals && (
            <div className="flex items-center gap-4 bg-white p-2 truncate rounded-tr-xl rounded-br-xl rounded-tl-md rounded-bl-md">
                <div className="flex items-center justify-center gap-1 fill-[#C2C2C2]">
                    <svg width="21" height="21" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.4" d="M15.2148 17.0941H14.3815V16.8857C14.3815 15.9691 13.6315 15.2191 12.7148 15.2191H10.8398V13.3107C10.6315 13.3357 10.4232 13.3441 10.2148 13.3441C10.0065 13.3441 9.79818 13.3357 9.58984 13.3107V15.2191H7.71484C6.79818 15.2191 6.04818 15.9691 6.04818 16.8857V17.0941H5.21484C4.87318 17.0941 4.58984 17.3774 4.58984 17.7191C4.58984 18.0607 4.87318 18.3441 5.21484 18.3441H15.2148C15.5565 18.3441 15.8398 18.0607 15.8398 17.7191C15.8398 17.3774 15.5565 17.0941 15.2148 17.0941Z" />
                        <path opacity="0.4" d="M4.81328 9.71076C4.26328 9.50243 3.77995 9.16076 3.39661 8.77743C2.62161 7.9191 2.11328 6.8941 2.11328 5.6941C2.11328 4.4941 3.05495 3.55243 4.25495 3.55243H4.72161C4.50495 3.9941 4.37995 4.48576 4.37995 5.01076V7.51076C4.37995 8.2941 4.52995 9.03576 4.81328 9.71076Z" />
                        <path opacity="0.4" d="M18.3133 5.6941C18.3133 6.8941 17.8049 7.9191 17.0299 8.77743C16.6466 9.16076 16.1633 9.50243 15.6133 9.71076C15.8966 9.03576 16.0466 8.2941 16.0466 7.51076V5.01076C16.0466 4.48576 15.9216 3.9941 15.7049 3.55243H16.1716C17.3716 3.55243 18.3133 4.4941 18.3133 5.6941Z" />
                        <path d="M12.7161 1.67743H7.71615C5.87448 1.67743 4.38281 3.1691 4.38281 5.01076V7.51076C4.38281 10.7358 6.99115 13.3441 10.2161 13.3441C13.4411 13.3441 16.0495 10.7358 16.0495 7.51076V5.01076C16.0495 3.1691 14.5578 1.67743 12.7161 1.67743ZM12.5828 7.05243L12.0661 7.68576C11.9828 7.77743 11.9245 7.96076 11.9328 8.08576L11.9828 8.90243C12.0161 9.40243 11.6578 9.66076 11.1911 9.47743L10.4328 9.17743C10.3161 9.13576 10.1161 9.13576 9.99948 9.17743L9.24115 9.47743C8.77448 9.66076 8.41615 9.40243 8.44948 8.90243L8.49948 8.08576C8.50781 7.96076 8.44948 7.77743 8.36615 7.68576L7.84948 7.05243C7.52448 6.6691 7.66615 6.2441 8.14948 6.1191L8.94115 5.9191C9.06615 5.88576 9.21615 5.7691 9.28281 5.66076L9.72448 4.97743C9.99948 4.55243 10.4328 4.55243 10.7078 4.97743L11.1495 5.66076C11.2161 5.7691 11.3661 5.88576 11.4911 5.9191L12.2828 6.1191C12.7661 6.2441 12.9078 6.6691 12.5828 7.05243Z" />
                        <path opacity="0.4" d="M12.5806 7.05238L12.064 7.68571C11.9806 7.77738 11.9223 7.96071 11.9306 8.08571L11.9806 8.90238C12.014 9.40238 11.6556 9.66071 11.189 9.47738L10.4306 9.17738C10.314 9.13571 10.114 9.13571 9.99731 9.17738L9.23898 9.47738C8.77232 9.66071 8.41398 9.40238 8.44732 8.90238L8.49731 8.08571C8.50565 7.96071 8.44731 7.77738 8.36398 7.68571L7.84731 7.05238C7.52231 6.66905 7.66398 6.24405 8.14732 6.11905L8.93898 5.91905C9.06398 5.88571 9.21398 5.76905 9.28065 5.66071L9.72232 4.97738C9.99731 4.55238 10.4306 4.55238 10.7056 4.97738L11.1473 5.66071C11.214 5.76905 11.364 5.88571 11.489 5.91905L12.2806 6.11905C12.764 6.24405 12.9056 6.66905 12.5806 7.05238Z" />
                    </svg>
                    <div className="text-xs text-gray-500">نقره</div>
                </div>
                <div className="text-center flex items-center gap-1 truncate">
                    <div className="text-sm font-bold text-gray-800">{achievement.silverMedals}</div>
                </div>
            </div>
        )}
        {!!achievement.goldMedals && (
            <div className="flex items-center gap-4 bg-white p-2 truncate rounded-tr-xl rounded-br-xl rounded-tl-md rounded-bl-md">
                <div className="flex items-center justify-center gap-1 fill-[#FFD42A]">
                    <svg width="21" height="21" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.4" d="M15.2148 17.0941H14.3815V16.8857C14.3815 15.9691 13.6315 15.2191 12.7148 15.2191H10.8398V13.3107C10.6315 13.3357 10.4232 13.3441 10.2148 13.3441C10.0065 13.3441 9.79818 13.3357 9.58984 13.3107V15.2191H7.71484C6.79818 15.2191 6.04818 15.9691 6.04818 16.8857V17.0941H5.21484C4.87318 17.0941 4.58984 17.3774 4.58984 17.7191C4.58984 18.0607 4.87318 18.3441 5.21484 18.3441H15.2148C15.5565 18.3441 15.8398 18.0607 15.8398 17.7191C15.8398 17.3774 15.5565 17.0941 15.2148 17.0941Z" />
                        <path opacity="0.4" d="M4.81328 9.71076C4.26328 9.50243 3.77995 9.16076 3.39661 8.77743C2.62161 7.9191 2.11328 6.8941 2.11328 5.6941C2.11328 4.4941 3.05495 3.55243 4.25495 3.55243H4.72161C4.50495 3.9941 4.37995 4.48576 4.37995 5.01076V7.51076C4.37995 8.2941 4.52995 9.03576 4.81328 9.71076Z" />
                        <path opacity="0.4" d="M18.3133 5.6941C18.3133 6.8941 17.8049 7.9191 17.0299 8.77743C16.6466 9.16076 16.1633 9.50243 15.6133 9.71076C15.8966 9.03576 16.0466 8.2941 16.0466 7.51076V5.01076C16.0466 4.48576 15.9216 3.9941 15.7049 3.55243H16.1716C17.3716 3.55243 18.3133 4.4941 18.3133 5.6941Z" />
                        <path d="M12.7161 1.67743H7.71615C5.87448 1.67743 4.38281 3.1691 4.38281 5.01076V7.51076C4.38281 10.7358 6.99115 13.3441 10.2161 13.3441C13.4411 13.3441 16.0495 10.7358 16.0495 7.51076V5.01076C16.0495 3.1691 14.5578 1.67743 12.7161 1.67743ZM12.5828 7.05243L12.0661 7.68576C11.9828 7.77743 11.9245 7.96076 11.9328 8.08576L11.9828 8.90243C12.0161 9.40243 11.6578 9.66076 11.1911 9.47743L10.4328 9.17743C10.3161 9.13576 10.1161 9.13576 9.99948 9.17743L9.24115 9.47743C8.77448 9.66076 8.41615 9.40243 8.44948 8.90243L8.49948 8.08576C8.50781 7.96076 8.44948 7.77743 8.36615 7.68576L7.84948 7.05243C7.52448 6.6691 7.66615 6.2441 8.14948 6.1191L8.94115 5.9191C9.06615 5.88576 9.21615 5.7691 9.28281 5.66076L9.72448 4.97743C9.99948 4.55243 10.4328 4.55243 10.7078 4.97743L11.1495 5.66076C11.2161 5.7691 11.3661 5.88576 11.4911 5.9191L12.2828 6.1191C12.7661 6.2441 12.9078 6.6691 12.5828 7.05243Z" />
                        <path opacity="0.4" d="M12.5806 7.05238L12.064 7.68571C11.9806 7.77738 11.9223 7.96071 11.9306 8.08571L11.9806 8.90238C12.014 9.40238 11.6556 9.66071 11.189 9.47738L10.4306 9.17738C10.314 9.13571 10.114 9.13571 9.99731 9.17738L9.23898 9.47738C8.77232 9.66071 8.41398 9.40238 8.44732 8.90238L8.49731 8.08571C8.50565 7.96071 8.44731 7.77738 8.36398 7.68571L7.84731 7.05238C7.52231 6.66905 7.66398 6.24405 8.14732 6.11905L8.93898 5.91905C9.06398 5.88571 9.21398 5.76905 9.28065 5.66071L9.72232 4.97738C9.99731 4.55238 10.4306 4.55238 10.7056 4.97738L11.1473 5.66071C11.214 5.76905 11.364 5.88571 11.489 5.91905L12.2806 6.11905C12.764 6.24405 12.9056 6.66905 12.5806 7.05238Z" />
                    </svg>
                    <div className="text-xs text-gray-500">طلا</div>
                </div>
                <div className="text-center flex items-center gap-1 truncate">
                    <div className="text-sm font-bold text-gray-800">{achievement.goldMedals}</div>
                </div>
            </div>
        )}
      </div>

      {/* Top Students Avatars */}
      <div className="flex items-center justify-between bg-white/20">
        <AvatarGroup isBordered>
            {achievement.topStudents.map((student, index) => (
                <Avatar
                    key={student.id}
                    src={student.avatar}
                    name={student.name}
                    size="md"
                    // className="border-2 border-white shadow-sm hover:scale-110 transition-transform duration-200 hover:z-10 relative"
                    style={{ zIndex: 10 - index }}
                />
            ))}
        </AvatarGroup>

        {/* Action Button */}
        <div className="w-12 h-12 bg-primary text-white group-hover:bg-white group-hover:text-primary rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors duration-300">
          <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 17L17 7M17 7H7M17 7V17" />
          </svg>
        </div>
      </div>
    </div>
  );
};
